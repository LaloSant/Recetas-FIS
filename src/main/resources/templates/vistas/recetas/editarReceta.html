<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">

<head th:replace="~{template :: head}"></head>

<body class="bg-secondary">
	<header th:replace="~{template :: header (${nomUser})}"></header>

	<div class="container">
		<div class="row">
			<div class="container justify-content-center card m-3">
				<h1 class="text-center">Editar receta</h1>
				<div class="card-body">
					<form th:object="${receta}" method="post">
						<div class="mb-1 mt-3">
							<div class="input-group">
								<span class="input-group-text"><i class="bi bi-hash"></i></span>
								<span class="input-group-text" th:text="'ID RECETA'"></span>
								<input class="form-control bg-light" th:field="*{idReceta}" th:value="${receta.idReceta}" type="text" readonly>
								<span class="input-group-text"><i class="bi bi-star-half"></i></span>
								<span class="input-group-text" th:text="'CALIFICACION (X/5)'"></span>
								<span class="input-group-text" th:text="${receta.calificacion}"></span>
								<input hidden th:field="*{calificacion}" th:value="${receta.calificacion}" type="text">
								<!-- <input hidden th:field="*{imagen}" th:value="${receta.imagen}" readonly> -->
								<input hidden th:field="*{visitasTotales}" th:value="${receta.visitasTotales}" readonly>
								<input hidden th:field="*{visitasSemanales}" th:value="${receta.visitasSemanales}" readonly>
								<!-- <input hidden th:field="*{usuario}" th:value="${receta.usuario}" readonly> -->
							</div>
							<div class="input-group my-3">
								<span class="input-group-text"><i class="bi bi-file-text"></i></span>
								<span class="input-group-text" th:text="'NOMBRE'"></span>
								<input class="form-control" th:field="*{nombre}" th:value="${receta.nombre}" type="text">
							</div>
							<div class="input-group mt-2">
								<span class="input-group-text"><i class="bi bi-person-circle"></i></span>
								<span class="input-group-text" th:text="'USUARIO'"></span>
								<span class="input-group-text" th:text="*{usuario.nombre}"></span>
							</div>
						</div>
						<div>
							<div class="d-flex justify-content-center">
								<h4 class="text-center">PASOS:</h3>
							</div>
							<div th:each="paso : ${pasos}" class="ms-5">
								<div class="mb-3 mt-1 ms-5">
									<div class="input-group">
										<span class="input-group-text"><i class="bi bi-chevron-right"></i></span>
										<span class="input-group-text"th:text="'Paso ' + ${paso.indicePaso}"></span>
										<input th:value="${paso.notas}" type="text" class="form-control"rows="1"></textarea>
									</div>
									<div class="form-text d-flex justify-content-end mx-4" text="Paso numero x a modificar"></div>
								</div>
							</div>
							<div class="box-footer d-flex justify-content-end">
								<button class="btn btn-success btn-sm" th:formaction="@{/recetas/editado/pasos}">Guardar Pasos</button>
							</div>
						</div>
						<div>
							<div class="d-flex justify-content-center mt-3">
								<h4 class="text-center">INGREDIENTES:</h3>
							</div>
							<div th:each="detalle : *{detalles}" class="ms-5">
								<div class="mb-3 mt-1 ms-5">
									<div class="input-group">
										<span class="input-group-text"><i class="bi bi-chevron-right"></i></span>
										<span class="input-group-text" th:text="'Detalle'"></span>
										<input th:value="${detalle.cantidad}" type="text" class="form-control"></input>
										<select class="form-select">
											<option value="">Seleccionar ingrediente</option>
											<option th:each="ingrediente : ${ingredientes}" th:value="${ingrediente.idIngrediente}"
												th:text="${ingrediente.nombre} + ' (' + ${ingrediente.magnitud} + ')'"
												th:selected="${ingrediente.idIngrediente == detalle.ingrediente.idIngrediente}"></option>
										</select>
										<span class="input-group-text" th:text="'Costo unitario: ' + ${detalle.costo}"></span>
									</div>
									<div class="form-text d-flex justify-content-end mx-4" text="Paso numero x a modificar"></div>
								</div>
							</div>
						</div>

						<div class="box-footer d-flex justify-content-center">
							<button class="btn btn-success btn-lg" th:formaction="@{/recetas/editado}">Guardar Receta</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<footer th:replace="~{template :: footer}"></footer>
</body>

</html>